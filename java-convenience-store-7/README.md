# 편의점 결제 시스템 (Java)

## 개요

이 프로젝트는 Java로 구현된 편의점 결제 시스템입니다. 고객이 선택한 상품에 대해 프로모션 및 멤버십 할인을 적용하여 최종 결제 금액을 계산하고, 영수증을 출력합니다. 또한, 재고 관리 및 예외 처리를 통해 편리하고 안정적인 결제 프로세스를 제공합니다.

## 기능 요구 사항 (기본 기능)

### 1. 상품 관리

- **상품 목록 관리**: `products.md` 파일을 통해 상품의 이름, 가격, 재고, 프로모션 정보를 불러옵니다.

- **재고 업데이트**: 결제 시 구매된 수량만큼 재고를 자동으로 차감합니다.

- **재고 부족 시 예외 처리**: 재고가 부족한 경우 오류 메시지를 출력하고 결제를 중단합니다.

### 2. 결제 시스템

- **결제 금액 계산**: 선택된 상품의 가격과 수량을 바탕으로 총 구매 금액을 산출합니다.

- **프로모션 할인 적용**: 상품에 프로모션이 적용될 경우 자동으로 할인 혜택을 적용합니다.

- **멤버십 할인 적용**: 프로모션 적용 후 남은 금액에 대해 최대 30% 멤버십 할인을 적용하며, 최대 할인 한도는 8,000원입니다.

- **영수증 출력**: 구매 내역과 할인을 포함한 영수증을 보기 좋은 형식으로 출력합니다.

### 3. 프로모션 관리

- **프로모션 파일 로드**: `promotions.md` 파일을 통해 각 프로모션의 조건을 불러옵니다.

- **프로모션 조건 확인**: 현재 날짜가 프로모션 기간 내에 있는지 확인하여 유효한 프로모션만 적용합니다.

- **N+1 프로모션**: 지정된 프로모션에 따라 N개 구매 시 1개를 무료로 증정합니다.

### 4. 예외 처리

- **상품 미존재 예외**: 입력된 상품이 존재하지 않을 경우, 오류 메시지를 출력하고 입력을 다시 받습니다.

- **잘못된 입력 형식**: 구매할 상품명 및 수량 입력 형식이 올바르지 않을 경우 오류 메시지를 출력합니다.

- **재고 부족**: 구매하려는 상품의 재고가 부족할 경우 예외를 발생시켜 사용자에게 알립니다.

## 입력 형식

- **상품 및 수량 입력**: 고객이 구매하려는 상품명과 수량을 `[상품명-수량]` 형식으로 입력합니다.

- 예시: `[콜라-3],[사이다-1]`

- **추가 구매 여부**: 결제가 완료된 후, 추가 구매할지 여부를 선택합니다.

- **프로모션 증정 여부**: 프로모션 조건에 부합하는 경우, 증정품을 추가로 받을지 선택합니다.

- 예시: `Y` 또는 `N`

- **멤버십 할인 적용 여부**: 멤버십 할인을 적용할지 선택합니다.

- 예시: `Y` 또는 `N`

## 출력 형식

- **현재 상품 목록**: 보유 중인 상품명, 가격, 재고, 프로모션 정보를 출력합니다.

- **구매 내역 및 할인 정보**: 구매한 상품명, 수량, 가격, 프로모션 및 멤버십 할인을 포함한 최종 결제 금액을 영수증 형태로 출력합니다.

- 예시:

```

===========W 편의점=============

상품명 수량 금액

콜라 3 3,000

에너지바 5 10,000

===========증 정=============

콜라 1

==============================

총구매액 8 13,000

행사할인 -1,000

멤버십할인 -3,000

내실돈 9,000

=================================

```

## 기술 스택

- **Java 21**

- **JUnit 5** (테스트용)

- **AssertJ** (테스트용)

- **camp.nextstep.edu.missionutils**: 날짜와 콘솔 입출력을 위한 유틸리티 사용

## 실행 방법

### 프로젝트 클론

로컬 환경에 프로젝트를 클론합니다.

```bash

git  clone  https://github.com/your-username/java-convenience-store.git

cd  java-convenience-store

```

### Java 실행

`Application` 클래스를 실행하여 프로그램을 시작합니다.

```bash

javac  -d  bin  src/convenience/Application.java

java  -cp  bin  convenience.Application

```

### 테스트 실행

테스트를 실행하여 각 기능이 정상적으로 동작하는지 확인합니다.

```bash

./gradlew  test

```

## 추가 기능 사항

- **상품 파일 및 프로모션 파일 동적 로드**: 상품과 프로모션 정보를 파일에서 동적으로 불러와 관리할 수 있습니다.

- **중복된 프로모션 적용 방지**: 동일한 상품에 여러 프로모션이 겹치지 않도록 제한합니다.

- **추가 구매 옵션**: 구매 완료 후, 고객이 추가 구매할 수 있도록 선택할 수 있습니다.

- **일관된 예외 처리**: 잘못된 입력, 재고 부족 등 다양한 예외 상황에 대해 일관된 메시지를 출력합니다.
  

## **관련 사이트**
https://www.woowacourse.io/
- https://github.com/woowacourse-precourse/java-convenience-store-7

