# 편의점 결제 시스템 (Python)

## 개요

이 프로젝트는 Python을 사용하여 편의점 결제 시스템을 구현한 것입니다. 고객의 구매 목록을 바탕으로 결제 금액을 계산하고, 프로모션 및 멤버십 할인을 적용하여 최종 결제 금액을 안내합니다. 상품 재고 관리와 영수증 생성 기능을 포함하고 있으며, 다양한 입력 형식과 예외 처리를 제공합니다.

## 기능 요구 사항

### 기본 기능

1. **구매 금액 계산**

   - 입력된 상품의 가격과 수량을 기반으로 결제 금액을 계산합니다.
   - 기본 구분자는 쉼표와 줄바꿈이며, 추가로 커스텀 구분자를 설정할 수 있습니다.

2. **프로모션 할인 적용**

   - 특정 상품에 대해 N+1 형태의 프로모션(예: 1+1, 2+1 등)을 적용합니다.
   - 예시: `"콜라 2+1"` → `2개 구매 시 1개 무료`

3. **재고 관리**

   - 구매 시 결제된 수량만큼 상품 재고에서 차감하여 최신 재고 상태를 유지합니다.
   - 재고가 부족한 경우, 오류 메시지를 출력하고 다시 입력을 요청합니다.

4. **멤버십 할인 적용**

   - 멤버십 회원은 프로모션을 제외한 금액의 30%를 할인받으며, 할인 한도는 최대 8,000원입니다.

5. **영수증 출력**

   - 고객의 구매 내역과 할인 정보가 포함된 영수증을 보기 좋게 정렬하여 출력합니다.
   - 구성 요소: 구매 상품 내역, 증정 상품 목록, 행사 할인, 멤버십 할인, 최종 결제 금액

6. **입출력 파일 사용**
   - 상품 목록과 프로모션 목록을 파일로부터 불러와 재고 상태를 관리하며, 프로그램 종료 후 최신 재고 상태를 저장합니다.

### 추가 기능

1. **날짜 기반 프로모션 적용**

   - 오늘 날짜가 프로모션 기간 내에 포함될 때만 프로모션 할인이 적용됩니다.

2. **결제 취소 기능**

   - 사용자가 결제를 실수로 진행했을 경우, 결제를 취소하고 초기 상태로 돌아갈 수 있습니다.

3. **오류 메시지 로깅**

   - 잘못된 입력, 존재하지 않는 상품, 재고 부족 등의 오류가 발생하면 로그 파일에 기록합니다.

4. **비정상 입력 예외 처리**

   - 상품 이름과 수량 형식이 올바르지 않으면 예외를 발생시키고, 오류 메시지와 함께 입력을 다시 받습니다.

5. **유닛 테스트**
   - `unittest` 모듈을 사용하여 빈 문자열, 단일 숫자 입력, 커스텀 구분자, 음수 예외 처리 등 다양한 테스트 케이스를 검증합니다.

## 기술 스택

- **Python 3.8+**

## 실행 방법

### 1. 프로젝트 파일 클론

```bash
git clone https://github.com/your-username/convenience-store-calculator.git
cd convenience-store-calculator
```

### 2. 결제 시스템 실행

```bash
python store_calculator.py
```

### 3. 테스트 실행

```bash
python -m unittest store_calculator_test.py
```

## 예시 사용법

- 상품 목록을 확인하고, 구매할 상품명과 수량을 입력합니다.
  ```plaintext
  [콜라-2],[사이다-3]
  ```
- 멤버십 할인을 적용할지 여부를 선택합니다.
- 영수증 출력과 함께 결제 금액이 표시됩니다.
